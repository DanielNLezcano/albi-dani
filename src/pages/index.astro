---
import Layout from "../layouts/Layout.astro";
import "../styles/global.css";
import Section from "../components/Section.astro";
import Button from "../components/Button.astro";
import Circle from "../components/Circle.astro";
import Icon from "../components/Icon.astro";
import Heading from "../components/Heading.astro";
import Paragraph from "../components/Paragraph.astro";
import Galeria from "../components/Galeria.astro";
import Nombre from "../components/Nombre.astro";
const targetDate = new Date(new Date().getFullYear(), 10, 21); // November is month 10 (0-based)
const now = new Date();

// Meses completos
let months = targetDate.getMonth() - now.getMonth();
if (targetDate.getDate() < now.getDate()) {
    months--;
}

// Día de inicio para calcular semanas y días restantes
const temp = new Date(now);
temp.setMonth(temp.getMonth() + months);

const msLeft = targetDate.getTime() - temp.getTime();
const totalDays = Math.floor(msLeft / (1000 * 60 * 60 * 24));

const weeks = Math.floor(totalDays / 7);
const days = (totalDays % 7) + 1;
---

<Layout title="Albi y Dani">
    <Section classes="h-screen">
        <Nombre />
    </Section>
    <Section classes="bg-[#ECDDCA] p-8">
        <Icon src="/icono-frase.svg" />
        <Heading size="text-3xl">LLEGÓ EL GRAN DÍA</Heading>
        <Paragraph>
            "Andábamos sin buscarnos, pero sabiendo que andábamos para
            encontrarnos."
        </Paragraph>
        <Paragraph>Julio Cortázar</Paragraph>
    </Section>
    <Section classes="bg-white p-8">
        <div id="countdown" class="flex gap-4 justify-center">
            <Circle left=`${months}` times="Meses" />
            <Circle left={weeks} times="Semanas" />
            <Circle left={days} times="Días" />
        </div>
        <Icon src="/icono-nuestraboda.svg" />
        <Heading size="text-3xl">NUESTRA BODA</Heading>
        <Heading size="text-2xl" not_uppercase>Festejo</Heading>
        <Paragraph>
            21 de noviembre de 2025
            <br />
            18:00 hs
            <br />
            Terranova Eventos
            <br />
            San Jeronimo Sud, Santa Fe
        </Paragraph>
        <Button url="https://forms.gle/3d1b7Z2f8g5j4k6u9">Como llegar</Button>
    </Section>
    <Section classes="bg-[#ECDDCA] p-8">
        <Heading size="text-3xl">R S V P</Heading>
        <Paragraph>
            Esperamos que puedas acompañarnos. ¡Confirmanos tu asistencia!
        </Paragraph>
        <Button url="https://forms.gle/3d1b7Z2f8g5j4k6u9"
            >Confirmar asistencia</Button
        >
        <Icon src="/icono-calendar.svg" />
        <Paragraph>¡Agendá la fecha en tu calendario!</Paragraph>
        <Button url="https://forms.gle/3d1b7Z2f8g5j4k6u9">Agendar evento</Button
        >
        <Icon src="/icono-dresscode.svg" />

        <Heading size="text-3xl">D R E S S C O D E:</Heading>
        <Paragraph>
            Formal elegante.
        </Paragraph>
    </Section>
    <Section classes="bg-white p-8">
        <Icon src="/icono-instagram.svg" />
        <Heading size="text-2xl">@av__819</Heading>
        <Paragraph>¡Preparate para nuestro casamiento!</Paragraph>
        <Paragraph>
            Ya podés seguirnos en nuestra cuenta para ver todas las novedades
            del casamiento y etiquetarnos en tus fotos y videos.
        </Paragraph>
        <Button url="https://forms.gle/3d1b7Z2f8g5j4k6u9"
            >Ver en instagram</Button
        >
        <br />
        <Heading size="text-2xl">NOSOTROS ♥</Heading>
        <Paragraph>
            Cada historia de amor es diferente, ¡pero la nuestra es única!
        </Paragraph>
        <Galeria />
    </Section>
    <Section classes="bg-[#ECDDCA] p-8">
        <Icon src="/icono-regalo.svg" />
        <Paragraph>
            ¡El mejor regalo es tu presencia!
            <br />
            Si deseas realizarnos un regalo...
        </Paragraph>
        <Button url="https://forms.gle/3d1b7Z2f8g5j4k6u9">Ver mas</Button>
    </Section>
    <Section classes="bg-white p-8 my-10 max-w-3/4 m-auto" width="1">
        <Heading size="text-3xl">F I E S T A !</Heading>
        <Paragraph>
            ¿Qué canciones no pueden faltar en la fiesta?
            <br />
            ¡Queremos crear una lista inolvidable!
        </Paragraph>
        <Button url="https://forms.gle/3d1b7Z2f8g5j4k6u9"
            >Sugerir cancion</Button
        >
    </Section>
    <Section classes="bg-[#D28D66] p-8">
        <Heading size="text-3xl">INFO ÚTIL</Heading>
        <div class="text-3xl"></div>
        <Paragraph>
            Te dejamos sugerencias de alojamientos y traslados para que
            aproveches ese fin de semana al máximo.
        </Paragraph>
        <Button url="https://forms.gle/3d1b7Z2f8g5j4k6u9">Ver mas</Button>
    </Section>
</Layout>
